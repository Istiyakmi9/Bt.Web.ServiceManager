<div class="main-container ">
    <ng-container *ngIf="activePage == 1">
        <div class="d-flex align-items-center justify-content-center vh-100">
            <div class="col-md-4 card p-4 shadow">
                <div class="col-md-12">
                    <label class="form-label">Server</label>
                    <select class="form-select" [(ngModel)]="serverId" [ngClass]="{'error-field': (serverId == 0 && submitted)}">
                        <option value="0" selected disabled>Select Server</option>
                        <option [value]="item.Id" *ngFor="let item of serverDetail">{{item.ServerName}}</option>
                    </select>
                </div>
                <div class="col-md-12 mt-4">
                    <label class="form-label">Password</label>
                    <div class="position-relative">
                        <input [type]="inputType" class="form-control" placeholder="Password" [(ngModel)]="password" [ngClass]="{'error-field': ((password == null || password == '') && submitted)}">
                        <a href="javascript:void(0)" class="text-decoration-none text-dark" (click)="showPassword()">
                            <i class="fa-solid fa-eye show-password" *ngIf="isShowPassword"></i>
                            <i class="fa-solid fa-eye-slash show-password" *ngIf="!isShowPassword"></i>
                        </a>
                    </div>
                </div>
                <div class="mt-3 text-end">
                    <button class="btn btn-primary-c" (click)="nextPage()">Next <i class="fa-solid fa-arrow-right ps-1"></i></button>
                </div>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="activePage == 2">
        <div class="card shadow p-3">
            <form [formGroup]="initialForm">
                <div class="x_panel border-0">
                  <div class="x_header">
                    <div class="x_header_title">
                      <h2>Company Detail<small>Basic Company Details.</small></h2>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Organization Name</label>
                      <input type="text" class="form-control" placeholder="Enter Organization Name" formControlName="OrganizationName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f['OrganizationName'].errors !== null && f['OrganizationName'].errors['required']}">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Company Name</label>
                      <input type="text" class="form-control" placeholder="Enter Company Name" formControlName="CompanyName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f['CompanyName'].errors !== null && f['CompanyName'].errors['required']}">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Email Id *</label>
                      <input class="form-control" formControlName="EmailId" placeholder="Email Id" [ngClass]="{'error-field': submitted && f['EmailId'].errors !== null && (f['EmailId'].errors['required'] || f['EmailId'].errors['email'])}"/>
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">GSTIN No.#</label>
                      <input placeholder="GSTIN No.#" class="form-control" name="GSTNo" [ngClass]="{'error-field': submitted && f['GSTNo'].errors !== null && f['GSTNo'].errors['required']}"
                        oninput="this.value = this.value.toUpperCase()" formControlName="GSTNo" />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-3 mt-3">
                      <label class="form-label">First Name</label>
                      <input type="text" class="form-control" placeholder="Enter First Name" formControlName="FirstName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f['FirstName'].errors !== null && f['FirstName'].errors['required']}">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Last Name</label>
                      <input type="text" class="form-control" placeholder="Enter Last Name" formControlName="LastName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f['LastName'].errors !== null && f['LastName'].errors['required']}">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Mobile No.</label>
                      <input type="text" class="form-control" placeholder="Enter Mobile Name" formControlName="Mobile" OnlyNumber="10" onkeypress="return event.charCode >= 48 && event.charCode <= 57" [ngClass]="{'error-field': submitted && f['Mobile'].errors !== null && f['Mobile'].errors['required']}">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">First Address</label>
                      <input type="text" class="form-control" placeholder="Enter First Address" formControlName="FirstAddress" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f['FirstAddress'].errors !== null && f['FirstAddress'].errors['required']}">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Second Address</label>
                      <input type="text" class="form-control" placeholder="Enter Second Address" formControlName="SecondAddress" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f['SecondAddress'].errors !== null && f['SecondAddress'].errors['required']}">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Third Address</label>
                      <input type="text" class="form-control" placeholder="Enter Third Address" formControlName="ThirdAddress" oninput="this.value = this.value.toUpperCase()">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Fourth Address</label>
                      <input type="text" class="form-control" placeholder="Enter Fourth Address" formControlName="ForthAddress" oninput="this.value = this.value.toUpperCase()">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">Country</label>
                      <input type="text" class="form-control" placeholder="Enter Country" formControlName="Country" oninput="this.value = this.value.toUpperCase()">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-3 mt-3">
                      <label class="form-label">State</label>
                      <input type="text" class="form-control" placeholder="Enter State" formControlName="State" oninput="this.value = this.value.toUpperCase()">
                    </div>
                    <div class="col-md-3 mt-3">
                      <label class="form-label">City</label>
                      <input type="text" class="form-control" placeholder="Enter City" formControlName="City" oninput="this.value = this.value.toUpperCase()">
                    </div>
                  </div>
                </div>
                <div class="x_panel border-bottom-0 border-start-0 border-end-0">
                  <div class="x_header">
                    <div class="x_header_title">
                      <h2>Bank Detail<small>Bank related detail for transaction.</small></h2>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 mt-3">
                      <label class="form-label">Bank Name</label>
                      <input placeholder="Bank Name" class="form-control" name="BankName" [ngClass]="{'error-field': submitted && f['BankName'].errors !== null && f['BankName'].errors['required']}"
                        oninput="this.value = this.value.toUpperCase()" formControlName="BankName" />
                    </div>
                    <div class="col-md-4 mt-3">
                      <label class="form-label">Account No.# *</label>
                      <input placeholder="Account No.#" class="form-control" name="AccountNo" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                        [ngClass]="{'error-field': submitted && f['AccountNo'].errors !== null && f['AccountNo'].errors['required']}"
                        formControlName="AccountNo" />
                    </div>
                    <div class="col-md-4 mt-3">
                      <label class="form-label">IFSC Code</label>
                      <input placeholder="IFSC Code" class="form-control" name="IFSC" [ngClass]="{'error-field': submitted && f['IFSC'].errors !== null && f['IFSC'].errors['required']}"
                        oninput="this.value = this.value.toUpperCase()" formControlName="IFSC" />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 mt-3">
                        <label class="form-label">Branch Name</label>
                        <input placeholder="Branch name" class="form-control" name="Branch" [ngClass]="{'error-field': submitted && f['Branch'].errors !== null && f['Branch'].errors['required']}"
                          oninput="this.value = this.value.toUpperCase()" formControlName="Branch" />
                    </div>
                    <div class="col-md-4 mt-3">
                      <label class="form-label">Branch Code</label>
                      <input placeholder="Branch Code" class="form-control" name="BranchCode" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                        formControlName="BranchCode" />
                    </div>
                    <div class="col-md-4 mt-3">
                      <label class="form-label">IsPrimayAccount</label>
                      <select class="form-select" formControlName="IsPrimaryAccount">
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                      </select>
                    </div>
                  </div>
                  <div class="text-end mt-3">
                    <button class="btn btn-success" [disabled]="isLoading" (click)="registerAccount()">
                        <i class="fa-solid fa-spinner fa-spin" *ngIf="isLoading"></i>
                        <i class="fa-solid fa-floppy-disk" *ngIf="!isLoading"></i>
                        <span class="ps-2">{{ isLoading ? 'Wait' : 'Register' }}</span>
                    </button>
                  </div>
                </div>
            </form>
        </div>
    </ng-container>
</div>